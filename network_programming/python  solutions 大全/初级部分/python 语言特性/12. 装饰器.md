# Python语言特性

## 装饰器

一句话总结：

装饰器是可调用的对象，其参数是一个函数或类（被装饰的对象）。装饰器可能会处理被装饰的对象，然后把它返回，或者将其替换成另一个函数或可调用对象。装饰器在加载模块时立即执行（导入时），而被装饰的函数只在被调用时才运行。

装饰器的使用场景：装饰器经常用于有切面需求的场景，比如：插入日志、性能测试、事务处理、缓存、权限校验等场景。装饰器是解决这类问题的绝佳设计，有了装饰器，我们就可以 _抽离出大量与函数功能本身无关的雷同代码并继续重用_。

装饰器与设计模式中的装饰器模式的 _功能类似_：动态地给一个对象添加一些额外的职责。但二者在实现层面是不同的。

展开论述：

装饰器其实是这样一个接口约束，它必须接受一个 `callable` 对象作为参数，然后返回一个 `callable` 对象（也可以是其他类对象，比如 `property`）。

标准库中的装饰器:

- `functools.wraps`
- `functools.lru_cache`
- `functools.singledispatch`
- `prpperty`
- `classmethod`
- `staticmethod`

`functools.lru_cache(maxsize=128, typed=False)` 装饰器实现了备忘功能，可以用于优化递归算法。
