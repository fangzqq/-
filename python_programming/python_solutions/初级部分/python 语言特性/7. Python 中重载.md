# Python语言特性

## Python 中重载

一句话总结：

在静态语言中，方法重载是这样一种技术：可以以统一的方式（方法名）处理不同类型的数据，_多个同名函数可以在类中同时存在_，而每个函数具有不同的参数个数/类型。_重载是一个类中多态性的一种表现_。一个基本的设计原则是，仅仅当两个函数除了参数类型和参数个数不同以外，其功能是完全相同的，此时才有必要使用函数重载；如果两个函数的功能其实不同，那么不应当使用重载，而应当使用一个名字不同的函数。而 Python 是动态语言，有鸭子类型。一个对象的特征不是由它的类型决定的，而是由对象中的方法决定的。而且 Python 函数可以接收任意数量和类型的参数，python 还可以利用对象的自省功能判断对象类型。因此，python 中不需要重载。

展开论述：

- 什么是重载

在静态语言中，方法重载是这样一种技术：可以以统一的方式（方法名）处理不同类型的数据，多个同名函数可以在类中同时存在，每个函数具有不同的参数个数/类型。

重载是一个类中多态性的一种表现。

- 重载是为了解决什么问题

一个基本的设计原则是，仅仅当两个函数除了参数类型和参数个数不同以外，其功能是完全相同的，此时才有必要使用函数重载；如果两个函数的功能其实不同，那么不应当使用重载，而应当使用一个名字不同的函数。因此函数重载主要是为了解决两个问题：

1. 可变的参数类型
2. 可变的参数个数

- python 为什么不需要重载
  - python 函数可以接收任意类型的参数。如果函数功能相同，那么不同的参数类型在 python 中很可能是相同的代码
  - 如果函数功能相同，但参数个数不同，则可以使用 python 的缺省参数。
  - 动态语言中，有鸭子类型。一个对象的特征不是由它的类型决定的，而是由对象中的方法决定的
  - 利用对象的自省功能判断对象类型

python 中的一个例子：

```python
class Writer:
    @staticmethod
    def write(output, content):
        # output 只要实现了 write 方法就行
        output.write(content)

# stringIO 类型
output = StringIO.StringIO()
Writer.write(output, "helloworld")

# file 类型
output = file("out.txt", "w")
Writer.write(output, "helloworld")
```

在名字空间里，名字仅能与单个目标相关联，因此 python 中无法直接实现函数重载。